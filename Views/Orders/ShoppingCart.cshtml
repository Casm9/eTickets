@using eTickets.Data.ViewModels
@model ShoppingCartVM

@{
	ViewData["Title"] = "Shopping cart summary";
}

<main class="container">

<header class="heading">
	<h1>Shopping Cart</h1>
</header>

<div id="cart-container">
	<div id="cart-header">Cart Summary</div>

	<ul id="cart-items">
		@foreach (var item in Model.ShoppingCart.ShoppingCartItems)
		{
			<li class="cart-item">
				<span class="item-name">@item.Movie.Name</span>
				<span class="item-quantity">@item.Amount x </span>
				<span class="item-price">@item.Movie.Price.ToString("c")</span>
			</li>
			<li class="item-actions">
				<a class="action-button" asp-controller="Orders" asp-action="RemoveItemFromShoppingCart" asp-route-id="@item.Movie.Id">-</a>
				<a class="action-button" asp-controller="Orders" asp-action="AddItemToShoppingCart" asp-route-id="@item.Movie.Id">+</a>
			</li>
		}
	</ul>

	<div id="cart-total">Total: @Model.ShoppingCartTotal.ToString("c")</div>
</div>

<div class="cart-btn-group">
	<a class="btn" asp-action="CompleteOrder">
		Complete order
	</a>
	<a class="btn" asp-controller="Movies" asp-action="Index">
		Add more items
	</a>
</div>

</main>
